# Инструкция для мобильного приложения "GDMN. Отгрузка"

## 1. Подключение

Чтобы запустить приложение, находим его иконку  <img src="img/1.Connection/favicon.png" alt="drawing" height="32"/>  на рабочем экране мобильного устройства и нажимаем на нее.

При первом запуске приложения откроется стартовый экран, в котором будет предложено выбрать режим подключения:
- Демо режим ( НАЧАТЬ РАБОТУ )
- Подключение к серверу


<img src="img/1.Connection/1.StartScreen.jpg" alt="drawing" height="400"/>


### Демо режим
При нажатии на кнопку демо режима **Начать работу** выполняется автоматический вход в приложение под тестовым пользователем.

В данном режиме можно ознакомиться с функционалом приложения offline (без подключения к базе данных) на демо данных.

Загрузка данных и работа в приложении пояснена далее.

Выйти из демо режима можно, открыв боковую панель нажатием на иконку меню **≡**, находящуюся в верхнем углу приложения слева, или смахнув пальцем вправо с левого края устройства.

Затем перейти на экран **Профиль** и нажать на кнопку **Выйти из демо режима**.

### Подключение к серверу
Чтобы подключиться к рабочей базе данных, необходимо в нижней часте экрана нажать на **Подключиться к серверу**. Через кнопку с иконкой <img src="img/1.Connection/1.ConfigIcon.png" alt="drawing" height="30"/>, откроется окно настроек подключения к серверу:

<img src="img/1.Connection/1.ConnectionSettings.jpg" alt="drawing" height="400"/>

Системный администратор вашего предприятия должен сообщить вам адрес сервера и номер порта для подключения. Введите его в экране **_Настройки подключения_** в нижеуказанные поля.

| Параметр | Описание |
| --------------------- | ------------------------------------------ |
| Адрес сервера | Точно введите адрес, переданный вам системным администратором. Адрес должен включать протокол и доменное имя или цифровой IP адрес сервера. Пример: http://localhost |
| Порт          | Порт сервера. Пример: 3649 |

При нажатии на кнопку **Сохранить** переходим к экрану для подключения к серверу:

<img src="img/1.Connection/1.Connection.jpg" alt="drawing" height="400"/>

Нажимаем кнопку **Подключиться**.

После успешного подключения к серверу появится экран **Активация устройства**.

В данном экране необходимо ввести код активации, который пользователь должен получить от администратора системы, и нажать **Отправить**.

При последующих запусках приложения будет происходить автоматический вход в учетную запись пользователя, если в разделе **Профиль** бокового меню " ≡ " будет выставлен параметр **_Не выходить из профиля_**.

<img src="img/1.Connection/1.Activation.jpg" alt="drawing" height="400"/> <img src="img/1.Connection/1.ActivationCode.jpg" alt="drawing" height="400"/>

По нажатию на иконку в правом нижнем углу <img src="img/1.Connection/1.ConfigIcon.png" alt="drawing" height="30"/> можно снова перейти на экран подключения к серверу.

Если активация устройства прошла успешно, появится экран для входа пользователя.

В соответствующие поля необходимо ввести **Имя пользователя** и **Пароль** и нажать на кнопку **Войти**.

<img src="img/1.Connection/1.Login.jpg" alt="drawing" height="400"/> <img src="img/1.Connection/1.LoginUser.jpg" alt="drawing" height="400"/>

При успешной аутентификации пользователя откроется экран **Дашборд**.

Далее необходимо:
- зайти в Настройки и установить необходимые для работы параметры. Например, установить параметр **_Запрашивать справочники_**, выставить удобный для работы период синхронизации и так далее;
- загрузить данные, необходимые для работы пользователя с приложением, через ручную синхронизацию с помощью кнопки ;
- получить справочники.

Всю информацию по этим действиям можно найти в нижеследующих разделах.

Также в экране **Настройка подключения** (на него можно попасть, следуя инструкциям в разделе "Подключение к серверу компании") есть кнопка "Сбросить настройки", по нажатию на которую вызовется диалоговое окно, где можно указать следующие действия:
- установить настройки по умолчанию. Подставятся данные нашего сервера, например, адрес: https://server.gdmn.app, и порт: 3654;
- удалить данные об устройстве. Номер устройства, который необходим для аутентификации, очистится. Повторно номер устройства можно получить по новому коду активации от администратора системы.


## 2. Настройки

Экран **Настройки** содержит информацию о параметрах связи с сервером и настройки приложения.

Синхронизация дает возможность работе с сервером идти параллельно работе в приложении.

Процесс синхронизации можно просматривать в специальном окне, которое появляется по нажатию на кнопку Синхронизировать (нижняя левая кнопка <img src="img/1.Connection/1.Sync.jpg" alt="drawing" height="25"/>  в боковом меню **" ≡ "**).

Если же необходимо продолжить работу в приложении, не дожидаясь окончания синхронизации, можно выбрать кнопку "Продолжить работу в приложении". Окно закроется, но в правом нижнем углу будет отрисован компонент, напоминающий, что процесс синхронизации еще идет. Если на на него нажать, окно синхронизации появится снова.



Общие настройки:

| Параметр | Описание |
| ------------ | -------- |
|Запрашивать справочники|_Если указан_, то при при каждой синхронизации, если предыдущий запрос был обработан, на сервер будет отправляться новый запрос за справочниками. Сервер его обработает и вернет новые данные. <br> _Если не указан_, то запрос генерироваться не будет. Справочники будут выгружаться из сервера автоматически при каких-либо очередных изменениях на сервере.|
|Использовать сканер|_Если указан_, то для сканирования штрихкода будет использован сканер терминала сбора данных.<br> _Если не указан_, то для сканирования штрихкода будет использована камера устройства.|
|Хранение документов, дн.| Количество дней хранения обработанных документов в приложении, отсчитываемое от даты документа.|
|Адресное хранение| _Если указан_, то в боковом меню будут доступны пункты, связанные с адресным хранением.|
|Использовать остатки| _Если указан_, то при добавлении товара будет учитываться его наличие в остатках.|

Синхронизация:

| Параметр | Описание |
| ------------ | -------- |
|Автоматическая синхронизация|Параметр по умолчанию не установлен. Если установить, то синхронизация будет выполняться автоматически каждые N минут, указанные в признаке "Автосинхронизации, мин". И Автоматическая синхронизация по протяжённости периода должна быть больше периода синхронизации на сервере
|

Код товара:

| Параметр | Описание |
| ------------ | -------- |
Мин. длина штрихкода| Число, которое означает минимальное количество символов для того, чтобы код опознавался как корректный.|
|Вес товара, гр| Число, задающее количество символов в штрихкоде для определения веса товара в гр.|
|Дата (число)| Число, задающее количество символов в штрихкоде для определения числа в дате производства.|
|Дата (месяц)| Число, задающее количество символов в штрихкоде для определения месяца в дате производства.|
|Дата (год)| Число, задающее количество символов в штрихкоде для определения года в дате производства.|
|Код товара| Число, задающее количество символов в штрихкоде для определения кода товара в справочнике.|
|Номер взешивания| Число, задающее количество символов в штрихкоде для определения порядка взвешивания в ящике(необходимо для подсчета количества тары в поддоне либо для однозначной идентификации штрихкода).|
|Тип взвешивания| Число, задающее количество символов в штрихкоде для определения типа взывешивания(поддон, ящик, штука).|
|Номер партии| Число, задающее количество символов в штрихкоде для определения партии товара.|
|Количество коробок| Число, задающее минимальное количество коробок на поддоне.|
|Мин. вес поддона, кг| Число, задающее минимальный вес поддона.|

Код заявки:

| Параметр | Описание |
| ------------ | -------- |
Мин. длина штрихкода| Число, которое означает минимальное количество символов для того, чтобы код опознавался как корректный.|
|Код подразделения| Число, задающее количество символов в штрихкоде для определения кода подразделения, на которое делается заявка.|
|Дата (число)| Число, задающее количество символов в штрихкоде для определения числа в дате производства.|
|Дата (месяц)| Число, задающее количество символов в штрихкоде для определения месяца в дате производства.|
|Дата (год)| Число, задающее количество символов в штрихкоде для определения года в дате производства.|
|Идентификатор заявки| Число, задающее количество символов в штрихкоде для определения идентификатора заявки в ERP системе.|

Пример:

По умолчанию штрихкод состоит из 28-30 символов, а 4 символа (с 17-го по 20-ый) - это код товара:
- c 1 по 6 (6 символов)  - вес товара в гр.,
- с 7 по 16 (10 символов) - дата и время производства (ддммггччсс),
- с 17 по 20 (4 символа) - код товара,
- с 21 по 24 (4 символа) - номер взвешивания,
- с 25 по 30 (от 4 до 6 символов, в зависимости от минимальной длины штрихкода) - номер партии.

По нажатию на иконку меню **⋮**, расположенную в правом верхнем углу, можно вернуться к начальным настройкам, выбрав пункт **Установить настройки по умолчанию**.

<img src="img/2.Settings/2.Settings.jpg" alt="drawing" height="400"/>
<img src="img/2.Settings/2.SettingsMenu.jpg" alt="drawing" height="400"/>

<img src="img/2.Settings/2.BaseSettings.jpg" alt="drawing" height="400"/>
<img src="img/2.Settings/2.SettingsShcode.jpg" alt="drawing" height="400"/>
<img src="img/2.Settings/2.SettingsOrderCode.jpg" alt="drawing" height="400"/>

## 3. Загрузка данных

Чтобы загрузить данные, предназначенные для пользователя, следует нажать на кнопку синхронизации данных <img src="img/3.Sync/3.Sync.jpg" alt="drawing" height="30"/> в нижней части бокового меню.

Открыть боковое меню можно нажатием на иконку меню **≡**, находящуюся в верхнем углу приложения слева, или смахнув пальцем вправо с левого края устройства.

<img src="img/3.Sync/3.Dashbord.jpg" alt="drawing" height="400"/> <img src="img/3.Sync/3.Sidebar.jpg" alt="drawing" height="400"/> <img src="img/3.Sync/3.SyncSuccess.jpg" alt="drawing" height="400"/>

После загрузки данных в приложении должны появится справочники и все необходимые документы.

Если синхронизация прошла, но данных не появилось, то необходимо повторить синхронизацию через некоторое время.

На кнопке **_Синхронизировать_** отобразится дата и время последней синхронизации.

<img src="img/3.Sync/3.Sidebar.jpg" alt="drawing" height="400"/>

## 4. Справочники

На экране **Справочники** можно просмотреть данные, загруженные в приложение для работы.

<img src="img/4.References/4.References.jpg" alt="drawing" height="400"/> <img src="img/4.References/4.Goods.jpg" alt="drawing" height="400"/> <img src="img/4.References/4.GoodPosition.jpg" alt="drawing" height="400"/>

Пример справочника подразделения:

<img src="img/4.References/4.Contacts.jpg" alt="drawing" height="400"/> <img src="img/4.References/4.ContactPosition.jpg" alt="drawing" height="400"/>

Чтобы найти справочник по наименованию можно воспользоваться строкой поиска в правом верхнем углу экрана.

От получения справочников можно отказаться - через установление параметра "Запрашивать справочники" в отрицательное положение, (Общие настройки в пункте бокового меню Настройки).

Или же, наоборот, в любой необходимый момент отправить запрос на получение справочников - через нажатие на иконку меню ⋮, расположенную в правом верхнем углу, выбрав пункт Отправить запрос на получение справочников.


## 5. Остатки

Остатки представляют собой список товаров с ценами и количеством остатка в разрезе подразделения/организации/сотрудника на текущую дату.


При добавлении позиции в документ, который работает с остатками, список товаров будет ограничен только теми товарами, по которым осуществлялось складское движение по конкретному подразделению/организации/сотруднику.

Выберем подразделение. На экране отображены остатки товаров для данного подразделения. По нажатию на конкретный товар можно просмотреть его цены и остаток.

 <img src="img/5.Remains/5.Departs.jpg" alt="drawing" height="400"/>
 <img src="img/5.Remains/5.Remains.jpg" alt="drawing" height="400"/>
 <img src="img/5.Remains/5.RemainsInfo.jpg" alt="drawing" height="400"/>

Чтобы найти найти необходимую информацию по наименованию можно воспользоваться строкой поиска, нажав на иконку Поиск <img src="img/5.Remains/5.Search.jpg" alt="drawing" height="20"/> в правом верхнем углу экрана.
Также можно воспользоваться фильтром <img src="img/5.Remains/5.IconFilter.jpg" alt="drawing" height="20"/>, который сортирует товары по двум категориям **_Все_** и **_Ненулевые_**.

 <img src="img/5.Remains/5.Remains.jpg" alt="drawing" height="400"/>
 <img src="img/5.Remains/5.Filter.jpg" alt="drawing" height="400"/>

## 6. Ячейки

В данном пункте можно посмотреть ячейки в разрезе подразделений на текущую дату.

 <img src="img/6.Cells/6.Departs.jpg" alt="drawing" height="400"/>

Выберем подразделение. На экране отображены ячейки для данного подразделения. По нажатию на ячейку можно посмотреть, какой товар лежит в данной ячейке или для какой группы предназначена данная ячейка.

 <img src="img/6.Cells/6.Cells.jpg" alt="drawing" height="400"/>
 <img src="img/6.Cells/6.CellGood.jpg" alt="drawing" height="400"/>
 <img src="img/6.Cells/6.RecommendedGroup.jpg" alt="drawing" height="400"/>

Чтобы найти необходимую информацию ячейкам можно воспользоваться строкой поиска, нажав на иконку Поиск <img src="img/6.Cells/6.Search.jpg" alt="drawing" height="25"/> в правом верхнем углу экрана. Если выбран тип поиска **_Товар_**, то поиск осуществляется по наименованию или коду товара, или же по номеру ячейки. Если выбран тип поиска **_Группа_**, то поиск осуществляется по названию группы или по номеру ячейки.

 <img src="img/6.Cells/6.GoodSearch.jpg" alt="drawing" height="400"/>
 <img src="img/6.Cells/6.GroupSearch.jpg" alt="drawing" height="400"/>

По нажатию на иконку **i** появляется окошко с информацией по цвету ячеек.

 <img src="img/6.Cells/6.CellInfo.jpg" alt="drawing" height="400"/>

## 7. Перемещение

### Cоздание документа

Документ перемещения позволяет оформлять перемещение товара между подразделениями.

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Перемещение"
- из бокового меню, выбрав пункт "Перемещение" и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата**, **Тип** и поля в зависимости от типа документа.

В зависимости от типа документа поля "Откуда" и "Куда" заполняются автоматически значениями параметров, которые можно просмотреть в пункте меню "Профиль -> Настройки пользователя", но при необходимости можно выбрать и другие значения из списка.
Например, для склада адресного хранения - подразделение отгрузки и подразделение хранения.

Типы перемещений для адресного хранения:

| Тип | Описание |
| ------------ | -------- |
| На хранение | По умолчанию заполнится поле "Откуда" значением подразделения отгрузки, "Куда" - подразделением хранения. Также необходимо выбрать ячейку, в которую будет помещен данный товар в экране выбора ячеек. В Гедымине будет создан документ перемещения, в позициях которых будут заполнены признаки СТАРЫХ карточек - дата поступления, номер партии, номер ячейки и код поддона нулевые, а НОВЫХ - дата поступления, номер партии, номер ячейки и код поддона. |
| С хранения | По умолчанию заполнится поле "Откуда" значением подразделения хранения, "Куда" - подразделением отгрузки. Также необходимо выбрать ячейку, из которой перемещается данный товар. В Гедымине будет создан документ перемещения, в позициях которых будут заполнены признаки СТАРЫХ карточек - дата поступления, номер партии, номер ячейки и код поддона, в НОВЫХ - дата поступления, номер партии, а номер ячейки и код поддона нулевые.|
| Внутреннее | Поля "Откуда" и "Куда" необходимо заполнить вручную. Если тип подразделения - адресное хранение, то будет отрисован экран выбора номера ячейки, как для подразделения "Откуда", так и "Куда". В Гедымине будет создан документ перемещения, в позициях которых будут заполнены признаки СТАРЫХ карточек - дата поступления, номер партии. Соответственно будут заполнены или обнулены признаки номера ячейки и поддона.|
| Смена ячеек | Вручную необходимо заполнить поле "Откуда". Также необходимо выбрать ячейки, откуда и куда перемещается товар. В Гедымине будет создан документ перемещения, в позициях которых будут заполнены признаки СТАРЫХ карточек - дата поступления, номер партии, код поддона и номер ячейки, из которой перемещение, а в НОВЫХ карточках - дата поступления, номер партии, номер новой ячейки и код поддона.|

<img src="img/3.Docs/3.AddDocTypes.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.MovementAdd.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.InternalMovementAdd.jpg" alt="drawing" height="400"/>

Типы перемещений без адресного хранения:

| Тип | Описание |
| ------------ | -------- |
| Внутреннее перемещение | По умолчанию заполнится поле "Откуда", "Куда" необходимо заполнить вручную. |
| Цех-перемещение | По умолчанию заполнится поле "Куда", "Откуда" необходимо заполнить вручную.|

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Отредактировать введенные данные можно, нажав на шапку документа, или используя пункт меню Редактировать данные.

<img src="img/3.Docs/3.MovementView.jpg" alt="drawing" height="400"/>
<img src="img/3.Docs/3.MovementNew.jpg" alt="drawing" height="400"/>

### Добавление товара

Добавить новую позицию можно 2 способами:
- путем сканирования штрихкода товара
- путем ввода штрихкода вручную

Сам товар ищется в справочнике товаров (либо в остатках по подразделению, если в настройках приложения установлен признак "Использовать остатки") по коду товара из штрихкода. Его можно определить по настройкам в пункте меню "Настройки => Код товара".

Остальные значения из штрихкода сохраняются в позиции для дальнейшего использования при формировании документа перемещения в Гедымине.

#### _Сканирование штрихкода_

Уточнение: если вы производите сканирование штрихкодов исключительно с помощью камеры устройства, то в настройках приложения необходимо отключить признак **Использовать сканер**.

**Сканирование товара на ТСД** осуществляется нажатием кнопки сканирования на устройстве, находясь на экране просмотра документа. Если товар по считанному штрихкоду будет найден в справочнике товаров, то будет создана новая позиция товара с данными из штрихкода.

Позиция не будет добавлена, если:
- штрихкод некорректный
- товар по считанному штрихкоду не найден в справочнике товаров
- товар с данным штрихкодом уже существует в текущем документе

В этих случаях будет выведено соответствуещее сообщение.

**Сканирование камерой устройства**

Нажимаем на иконку штрихкода <img src="img/10.Scanner/10.IconScanner.jpg" alt="drawing" height="22"/> в верхнем правом углу и переходим на экран сканирования товара.
<img src="img/10.Scanner/10.ScanIcon.jpg" alt="drawing" height="400"/>

Экран сканирования на мобильном устройстве:

<img src="img/10.Scanner/10.Scan.jpg" alt="drawing" height="400"/>

При удачном сканировании штрихкода на экране отобразится информация о товаре.

Подтверждаем добавление товара в документ нажатием на синюю кнопку с данными o товаре.

Далее экран вернется в режим сканирования. И так добавляем все необходимые позиции.

После добавления всех товаров выходим из режима сканирования, нажав иконку Стрелка влево в меню сверху.

Если отсканированный штрихкод не найден в справочнике, то на экране появится сообщение, что отсканированный товар не найден в справочнике и будет предложено пересканировать:

<img src="img/10.Scanner/10.ScanSuccess.jpg" alt="drawing" height="400"/>
<img src="img/10.Scanner/10.ScanUnknown.jpg" alt="drawing" height="400"/>

В случае, если штрихкод по каким-то причинам поврежден и не считывется, его можно ввести вручную, нажав иконку
<img src="img/10.Scanner/10.ScanHand.jpg" alt="drawing" height="22"/> в верхнем правом углу экрана сканирования. На экране появится диалоговое окно для ввода штрихкода вручную.

#### _Добавление товара вручную_

Нажимаем на иконку меню **≡**, расположенную в правом верхнем углу, выбираем пункт **Ввести штрихкод**, как изображено на картинке ниже.

На экране появится диалоговое окно для ввода штрихкода. Добавление позиции будет аналогично сканированию.

 <img src="img/3.Docs/3.MovementViewPos.jpg" alt="drawing" height="400"/><img src="img/3.Docs/3.MovementViewMenuAdd.jpg" alt="drawing" height="400"/><img src="img/3.Docs/3.MovementAddShcode.jpg" alt="drawing" height="400"/>
<img src="img/3.Docs/3.MovementViewMenuDel.jpg" alt="drawing" height="400"/>

#### Отмена последнего сканирования

Нажимаем на иконку меню **≡**, расположенную в правом верхнем углу, выбираем пункт **Отменить последнее сканирование**.

Последняя позиция в документе будет удалена.

### Редактирование позиции

По нажатию на последнюю добавленную позицию, отрисуется диалоговое окно, в котором можно ввести новое значение либо коробок, либо веса.

В документе "Лаборатория" вес изменится на введенное значение, количество коробок обнулится.

В документах "На хранение", "С хранения", "Смена ячеек" количество коробок в позиции и в штрихкоде товара изменится на новое, вес останется прежним.

В документах "Внутреннее перемещение", "Инвентаризация", "Отвесы", "Приход" идет проверка веса из штрихкода по следующему алгоритму:

Если вес ≥ 25 (параметр **Мин. вес поддона**), то меняется только количество коробок.

Если вес меньше 25 (параметр **Мин. вес поддона**), то меняется количество коробок на введенное значение, а вес - на рассчитанное по формуле: изначальный вес * количество коробок.
При этом учитывается, чтобы вес не превышал остатки.

Если новый вес больше или равно 1000 кг, то позиция разбивается на несколько позиций.

Изменить позицию можно всего один раз.

#### Блок-схема
<img src="QuantPack.drawio.png" alt="drawing"/>

### Статус документа

Цвет иконки или боковой полосы шапки документа означает его статус. При смене статуса меняется и цвет.
Имеется 4 статуса:

| Статус | Цвет    | Описание                          |
|------------| ------- | ------------------------------------------ |
|Черновик| Красный | Новый документ, который можно редактировать|
|Готов| Зеленый | Документ, который можно отправлять на обработку (снят признак **Черновик**). Нельзя редактировать.|
|Отправлен| Желтый  | Документ отправлен, ожидается подтверждение (после нажатия кнопки синхронизации документы со статусом **Готов** меняют статус на **Отправлен**).|
|Обработан успешно| Синий   | Документ получил подтверждение об успешной обработке на сервере (в случае, если документ обработан с ошибкой, статус меняется на **Черновик**).|

В документах перемещения используется только 3 статуса: **Черновик**, **Отправлен** и **Обработан успешно**.

### Порядок работы

Вернемся на экран просмотра списка документов, выбрав пункт бокового меню **Перемещение**:

<img src="img/3.Docs/3.DocsList.jpg" alt="drawing" height="400"/>

При создании документ имеет статус **Черновик** (красный цвет).

После ввода необходимых данных, чтобы отправить документ на обработку. Для этого есть два способа:

**1 способ**.  В экране документа нажать иконку отправки документа <img src="img/3.Docs/3.SendIcon.jpg" alt="drawing" height="32"/>, расположенную справа от заголовка **Перемещение**. При утвердительном ответе на вопрос "Вы уверены, что хотите отправить документ?" документ перемещения буден переведен в статус **Отправлен** и его уже нельзя будет редактировать.

<img src="img/3.Docs/3.SendDoc.jpg" alt="drawing" height="400"/><img src="img/3.Docs/3.DocsBeforeSent.jpg" alt="drawing" height="400"/>

**2 способ**. Для всех документов кроме документов перемещения можно сменить статус документа **Черновик** на **Готов** в экране шапки документа.

Документ со статусом **Готов** редактировать нельзя. Чтобы отправить его на обработку, можно нажать на иконку отправки в экране просмотра документа.

<img src="img/6.Shipment/36.MovementEditDraft.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.MovementEditReady.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.DocsReady.jpg" alt="drawing" height="400"/>

Пока документ не отправлен, можно сменить статус **Готов** на статус **Черновик** и отредактировать данные.

Чтобы отправить все документы со статусом **Готов** на сервер, необходимо нажать на кнопку синхронизации в боковом меню.

После отправки документ перейдет в статус **Отправлен** (желтый цвет) - редактирование невозможно.

<img src="img/3.Docs/3.DocsSentSync.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.DocsSent.jpg" alt="drawing" height="400"/>

ВАЖНО! Далее необходимо подождать несколько минуту (зависит от периода времени обработки запросов в Гедымине) и синхронизировать данные снова для получения ответа.

При успешной обработке документа в ERP системе (Гедымине), статус изменится на **Обработан**, цвет иконки документа установится синим.

<img src="img/3.Docs/3.DocsProcessed.jpg" alt="drawing" height="400"/>

### Удаление документа

Удалять можно документы только со статусом **Черновик** и **Обработан**.

Множество документов или только один можно удалить из экрана списка документов.

Для этого необходимо нажать и удержать удаляемый документ до появления зеленой галочки и контекстного меню. Далее нажать на иконку Корзина и подтвердить действие.

Можно выбирать несколько документов для удаления.

<img src="img/3.Docs/3.DelDoc.jpg" alt="drawing" height="400"/>

Также документ можно удалить из экрана просмотра документа, выбрав пункт меню "Удалить документ".

### Фильтры

Для удобства просмотра на экране документов можно использовать фильтры и сортировку:
- фильтр по типу документа
- фильтр по статусу документа
- сортировка по дате

<img src="img/3.Docs/3.SortDocTypes.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortStatus.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortDate.jpg" alt="drawing" height="400"/>

| Фильтр по статусу | Описание |
| -- | -- |
| Все                  | Все|
| Активные             | Все документы, кроме тех, которые уже обработаны на сервере (со статусом **Черновик**, **Готов**, **Отправлен**).|
| Черновик             | Документы со статусом **Черновик**|
| Готово               | Документы со статусом **Готов**|
| Отправлено           | Документы со статусом **Отправлен**|
| Обработано           | Документы со статусом **Обработан успешно**|
| Черновик и Готов     | Документы со статусом **Черновик** и **Готов**|

## 8. Приход (только для адресного хранения)

Данная опция предназаначена для оформления прихода на склад. В Гедымине будет создан документ перемещения.

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Приход"
- из бокового меню, выбрав пункт "Приход" и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата**, **Откуда** и **Куда**.

Если в профиле пользователя указано подразделение отгрузки по умолчанию, то поле **Куда** будет заполнено по умолчанию.
В полях **Откуда** и **Куда** можно выбрать только подразделения не для адресного хранения.

<img src="img/6.Shipment/6.AddFreeShipment.jpg" alt="drawing" height="400"/>

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Разделы "Добавление товара", "Редактирование позиции", "Порядок работы" аналогичны разделам документа "7. Перемещение".

### Фильтры

Для удобства просмотра на экране документов можно использовать фильтр по статусу документа:

<img src="img/3.Docs/3.SortDocTypes.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortStatus.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortDate.jpg" alt="drawing" height="400"/>

| Фильтр по статусу | Описание |
| -- | -- |
| Все               | Все|
| Активные          | Все документы, кроме тех, которые уже обработаны на сервере (со статусом **Черновик**, **Готов**, **Отправлен**).|
| Архив             | Документы со статусом **Обработан успешно**|

## 9. Отвес

Данная опция предназаначена для оформления отвес-накладных при отгрузке товаров в магазины фирменной торговли либо сторонним клиентам без предварительной заявки. В Гедымине будет создан документ "Реализация ГП"/"Реализация ГП (валюта)".

### Cоздание документа

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Отвес" для рублевой накладной или "Отвес $" для валютной
- из бокового меню, выбрав пункт "Отвес" для рублевой накладной или "Отвес $" для валютной и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата** и **Подразделение**.

Если в профиле пользователя указано подразделение отгрузки по умолчанию, то поле **Подразделение** будет заполнено по умолчанию.

<img src="img/6.Shipment/6.AddFreeShipment.jpg" alt="drawing" height="400"/>

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Разделы "Добавление товара", "Редактирование позиции", "Порядок работы" аналогичны разделам документа "7. Перемещение".

### Фильтры

Для удобства просмотра на экране документов можно использовать фильтр и сортировку:
- фильтр по статусу документа
- сортировка по дате

<img src="img/3.Docs/3.SortDocTypes.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortStatus.jpg" alt="drawing" height="400"/> <img src="img/3.Docs/3.SortDate.jpg" alt="drawing" height="400"/>

| Фильтр по статусу | Описание |
| -- | -- |
| Все                  | Все|
| Активные             | Все документы, кроме тех, которые уже обработаны на сервере (со статусом **Черновик**, **Готов**, **Отправлен**).|
| Черновик             | Документы со статусом **Черновик**|
| Готово               | Документы со статусом **Готов**|
| Отправлено           | Документы со статусом **Отправлен**|
| Обработано           | Документы со статусом **Обработан успешно**|
| Черновик и Готов     | Документы со статусом **Черновик** и **Готов**|

## 10. Отвес по заявке

Данная опция предназаначена для оформления отвес-накладных при отгрузке товаров в магазины фирменной торговли либо сторонним клиентам по предварительным заявкам. В Гедымине будет создан документ "Реализация ГП"/"Реализация ГП (валюта).

### Cоздание документа

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Отвес по заявке" для рублевого документа или "Отвес по заявке $" для валютного
- из бокового меню, выбрав пункт "Отвес по заявке" для рублевой документа или "Отвес по заявке $" для валютного, и нажав на иконку **+** в верхнем правом углу

В Гедымине на основе отвеса по заявке будет создан документ "Накладная на реализацию ГП" либо "Накладная на реализацию ГП (валюта)".

Далее необходимо отсканировать штрихкод заявки, по которой будет создан отвес.

Для этого на ТСД нужно нажать клавишу сканирования, а при использовании камеры устройства на иконку штрихкода <img src="img/10.Scanner/10.IconScanner.jpg" alt="drawing" height="22"/>.

Программа переходит на экран **Сканер заявки**. При успешном сканировании предлагается подтвердить выбор заявки, при неуспешном - пересканировать.

Если код по каким-то причинам не считывается, его можно ввести вручную, нажав иконку
<img src="img/10.Scanner/10.ScanHand.jpg" alt="drawing" height="22"/> в верхнем правом углу экрана сканирования.

<img src="img/6.Shipment/6.MenuTypes.jpg" alt="drawing" height="400"/>
<img src="img/6.Shipment/6.SuccessCodeOrder.jpg" alt="drawing" height="400"/>
<img src="img/6.Shipment/6.UnknownCodeOrder.jpg" alt="drawing" height="400"/>

Отвес готов для сканирования товаров. Он содержит шапку с данными о клиенте и дате отгрузки и две вкладки для позиций: **Заявлено** и **Отвешено**.

Данные в шапку подставляются автоматически из заявки и доступны только для просмотра. Для этого надо кликнуть по шапке.

<img src="img/6.Shipment/6.ShowShipment.jpg" alt="drawing" height="400"/>

Изначально во вкладке **Заявлено** находятся все позиции с заявленным количеством. В процессе сканирования заявленное количество уменьшается на отсканированное количество. Во вкладке **Отвешено** добавляются отсканированнные позиции. Если отканировано количество большее, чем заявлено или отсканирован товар, которого не было в изначальной заявке, программа запросит подтверждения данного действия либо отклонения.

<img src="img/6.Shipment/6.ShipmentDetailView.jpg" alt="drawing" height="400"/>
<img src="img/6.Shipment/6.OrderSheet.jpg" alt="drawing" height="400"/>
<img src="img/6.Shipment/6.ShipmentSheet.jpg" alt="drawing" height="400"/>
<img src="img/6.Shipment/6.EditOrderSheet.jpg" alt="drawing" height="400"/>

Когда добавлено все количество товара по заявке, позиция из закладки "Заявлено" удаляется.

При выборе опции **Отменить предыдущее сканирование** значения количества во вкладке **Заявлено** и **Отвешено** возвращается к предыдущим значениям соответственно.

Разделы "Добавление товара", "Редактирование позиции", "Порядок работы" аналогичны разделам документа "7. Перемещение".
Раздел "Фильтры" аналогичен разделу документа "9. Отвес".

## 11. Возврат

Данная опция предназаначена для оформления возврата товара от покупателей. В Гедымине будет создан складской документ "Возврат".

### Cоздание документа

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Возврат"
- из бокового меню, выбрав пункт "Возврат" и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата**, **Подразделение**.

Если в профиле пользователя указано подразделение отгрузки по умолчанию, то поле **Подразделение** будет заполнено по умолчанию.

<img src="img/6.Shipment/6.AddFreeShipment.jpg" alt="drawing" height="400"/>

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Разделы "Добавление товара", "Редактирование позиции", "Порядок работы" аналогичны разделам документа "7. Перемещение".
Раздел "Фильтры" аналогичен разделу документа "8. Приход".

## 12. Инвентаризация

Данная опция предназаначена для оформления инвентаризации товаров на складе. В Гедымине будет создан документ "Инвентаризация/сверка", по данным которого позже будет формироваться складской документ инвентаризация.

### Cоздание документа

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Инвентаризация"
- из бокового меню, выбрав пункт "Инвентаризация" и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата**, **Подразделение**.

Если в профиле пользователя указано подразделение отгрузки по умолчанию, то поле **Подразделение** будет заполнено по умолчанию.

<img src="img/6.Shipment/6.AddFreeShipment.jpg" alt="drawing" height="400"/>

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Разделы "Добавление товара", "Редактирование позиции", "Порядок работы" аналогичны разделам документа "7. Перемещение".
Раздел "Фильтры" аналогичен разделу документа "8. Приход".

## 13. Лаборатория

Данная опция предназаначена для оформления перемещения товаров в лабораторию.

### Cоздание документа

Документ можно создать:
- из экрана дашборда, нажав на кнопку "Лаборатория"
- из бокового меню, выбрав пункт "Лаборатория" и нажав на иконку **+** в верхнем правом углу

Обязательные поля для заполнения: **Номер**, **Дата**, **Подразделение**.

Если в профиле пользователя указано подразделение отгрузки, то поле **Подразделение** будет заполнено по умолчанию.

<img src="img/6.Shipment/6.AddFreeShipment.jpg" alt="drawing" height="400"/>

После заполнения данных документ сохраняем, нажав на иконку **✓** в правом верхнем углу.

Разделы "Добавление товара", "Порядок работы" аналогичны разделам документа "7. Перемещение".

### Редактирование позиции

По нажатию на последнюю добавленную позицию, отрисуется диалоговое окно, в котором можно ввести вес. При этом, количество коробок обнулится.

Раздел "Фильтры" аналогичен разделу документа "8. Приход".

## 14. Профиль

Экран **Профиль** содержит информацию о пользователе и устройстве. Настройки пользователя, которые приходят из ERP системы, также будут отображены в данном экране.

Для выхода из учетной записи необходимо нажать на кнопку **Сменить пользователя**.
Если вход был произведен в демо режиме, кнопка **Сменить пользователя** меняется на **Выйти из демо режима**.

В данном экране можно настраивать следующие параметры профиля:

| Параметр | Описание |
| ------------ | -------- |
|Не выходить из профиля|_Если указан_, то при каждом входе в приложение необходимо будет вводить логин и пароль пользователя. <br> _Если не указан_, то проверка данных пользователя будет запрашиваться каждые 7 дней - срок действия сессии (необходимо для защиты в случае передачи устройства другим пользователям, потери устройства и т.д.).|

Из меню, расположенного в правом верхнем углу, можно выполнить следующие операции:
- Выйти и удалить все данные
- Удалить все справочники и документы
- Удалить настройки пользователя

<img src="img/9.Profile/9.Profile.jpg" alt="drawing" height="400"/> <img src="img/9.Profile/9.ProfileDemo.jpg" alt="drawing" height="400"/> <img src="img/9.Profile/9.ClearData.jpg" alt="drawing" height="400"/>

## 15. О программе

В данном экране можно узнать информацию о приложении и контактных данных разработчика, перейдя по ссылке **Документация** ознакомиться с полным функционалом приложения.

<img src="img/10.About/10.About.jpg" alt="drawing" height="400"/>

**Журнал ошибок**

Если во время синхронизации программы и сервера произошли ошибки, то программа отобразит окно с надписью "Закончено с ошибками". Чтобы их просмотреть, необходимо нажать на кнопку "Просмотреть ошибки". Чтобы вернуться обратно в список выполненных действий нажать на кнопку "Просмотреть операции". Все ошибки будут сохраняться в "Журнале ошибок" и переданы на сервер для анализа.

<img src="img/10.About/10.EddWithError.jpg" alt="drawing" height="400"/> <img src="img/10.About/10.EddWithErrorTwo.jpg" alt="drawing" height="400"/> <img src="img/10.About/10.LogError.jpg" alt="drawing" height="400"/>

## 16. Значение иконок

| Значок         | Значение         |
|:----------------------:|----------------------------------|
|<img src="img/1.Connection/1.IconDraft.jpg" alt="drawing" height="22"/>| _статус **Черновик**_, новый документ, который можно редактировать|
|<img src="img/1.Connection/1.IconReadyToGo.jpg" alt="drawing" height="22"/>   | _статус **Готов к отправке**_, документ нельзя редактировать, но можно вернуть в статус **Черновик**   |
|<img src="img/1.Connection/1.IconSent.jpg" alt="drawing" height="22"/>    | _статус **Отправлен**_, документ отправлен, ожидается подтверждение     |
|<img src="img/1.Connection/1.IconProcesSucces.jpg" alt="drawing" height="22"/>    | _статус **Обработан успешно**_, документ получил подтверждение об успешной обработке на сервере   |
|<img src="img/1.Connection/1.IconTrash.jpg" alt="drawing" height="22"/>  | удаление документа |
|<img src="img/1.Connection/1.ConfigIcon.png" alt="drawing" height="30"/>   | переход на экран настроек  |
|<img src="img/1.Connection/1.IconSearch.jpg" alt="drawing" height="22"/>   | поиск  |
|<img src="img/1.Connection/1.IconEdit.jpg" alt="drawing" height="22"/>   | редактирование документа  |
|  <img src="img/1.Connection/1.Sync.jpg" alt="drawing" height="27"/>   | синхронизация  |
| <img src="img/1.Connection/1.IconAutoTransl.jpg" alt="drawing" height="22"/> | перевод документа из статуса **Черновик** в статус **Готов к отправке** |
|<img src="img/1.Connection/1.IconSend.jpg" alt="drawing" height="22"/>   | отправка документа |
|<img src="img/6.Maps/6.Icon.jpg" alt="drawing" height="22"/>| смена маршрута
|<img src="img/1.Connection/7.IconFiltr.jpg" alt="drawing" height="20"/>      | фильтр |
| " **≡** "   | меню документа |
|" **✓** "  | сохранить  |
|" **✚** "| добавление нового документа |
